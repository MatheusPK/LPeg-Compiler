1 - adicionar parametros
2 - fazer uma funcao para mandar erro
3 - refatorar a funcao de emit